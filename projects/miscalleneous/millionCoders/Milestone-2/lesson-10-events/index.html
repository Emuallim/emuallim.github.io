<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Events</title>
</head>

<body>
    <article id="content">
        <p>Brownie lollipop <span>carrot cake</span> gummies lemon drops sweet roll dessert tiramisu. Pudding muffin <span>cotton candy</span> croissant fruitcake tootsie roll. Jelly jujubes brownie. Marshmallow jujubes topping sugar plum jelly jujubes chocolate.</p>

        <p>Tart bonbon soufflé gummi bears. Donut marshmallow <span>gingerbread cupcake</span> macaroon jujubes muffin. Soufflé candy caramels tootsie roll powder sweet roll brownie <span>apple pie</span> gummies. Fruitcake danish chocolate tootsie roll
            macaroon.</p>
    </article>
    <script>
        // 200 elements, 200 listeners, 200 functions = take up 600mb of space in memory
        const myCustomDiv = document.createElement('div');

        for (let i = 1; i <= 200; i++) {
            const newElement = document.createElement('p');
            newElement.textContent = 'This is paragraph number ' + i;

            newElement.addEventListener('click', function respondToTheClick(evt) {
                console.log('A paragraph was clicked.');
            });

            myCustomDiv.appendChild(newElement);
        }

        document.body.appendChild(myCustomDiv);

        /* Now there is only: - 1) a single event listener  2) a single listener function

Now the browser doesn't have to store in memory two hundred different event listeners and two hundred different listener functions. That's great for performance`!

However, if you test the code above, you'll notice that we've lost access to the individual paragraphs. There's no way for us to target a specific paragraph element. So how do we combine this efficient code with the access to the individual paragraph items that we did before?

We use a process called event delegation. */
        const myCustomDiv = document.createElement('div');

        function respondToTheClick(evt) {
            console.log('A paragraph was clicked: ' + evt.target.textContent);
        }

        for (let i = 1; i <= 200; i++) {
            const newElement = document.createElement('p');
            newElement.textContent = 'This is paragraph number ' + i;
            myCustomDiv.appendChild(newElement);
        }

        document.body.appendChild(myCustomDiv);
        myCustomDiv.addEventListener('click', respondToTheClick);

        // TO CHOOSE ONE SPECIFIC ELEMENT
        document.querySelector('#content').addEventListener('click', function(evt) {
            if (evt.target.nodeName === 'SPAN') { // ← verifies target is desired element
                console.log('A span was clicked with text ' + evt.target.textContent);
            }
        });
    </script>
</body>

</html>