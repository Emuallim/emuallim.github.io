<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Box Chaser</title>
  <style>
    .gameArea {
      width: 800px;
      height: 600px;
    }

    .score {
      font-size: 3em;
    }

    .box {
      position: absolute;
      width: 100px;
      height: 100px;
      background-color: red;
    }

    .square {
      position: relative;
      border: 1px solid #ddd;
      width: 98px;
      height: 98px;
      display: inline-block;
      text-align: center;
      vertical-align: middle;
      line-height: 100px;
      font-size: 24px;
      color: #ddd;
    }

    .active {
      background-color: green;
      color: white;
    }
  </style>
</head>

<body>
  <!-- Started at 4:38PM/Dec22/2020 -->
  <!-- Coded for 1 hours -->
  <div class="gameArea"></div>
  <div>Score: <span class="score">0</span></div>

  <script>
    /*
      0. create a global object called "box"
      1. Select score & gameArea elements
      3. variable to getBoundingClientRect of gameArea
      4. create a global array called "squares"
      5. global object called "gamebox" to select out starting position
        - x:Math.floor(gameArea.width/100), -- horizontal position
        (we chose 100 b/c thats the width of boxes)
        - y:Math.floor(gameArea.height/100), -- vertical position
      6. add DOMContentLoaded eventlistener and build function
      7. Initiate the build function...
        - add div createEle to box
        - add class of "box" to box
        - box.x equals to gameArea's top 
        - box.y equals to gameArea's left 
        - box top equals to box.y + "px"
        - box left equals to box.x + "px"
        - append box to gameAreaEle & CLO box
        - to count the squares, create a variable called counter and set it to 1
        - create for loop where gamebox.y is greater than y
          - another for loop where gamebox.x is greater than x
            - create squares with "counter" index equalling to doc.createEl('div')
            - set squares[counter] innerHTML to counter
            - add class of "square" to squares[counter]
            - append square[counter] to gameAreaEle
            - counter++
      8. setup  a new object called "player" after the "gamebox" object
        - speed:100,square:1,score:0
      9. addeventlistener to document with keyup func(e)
        - CLO(e) & create an object called "allowKey"
          - in it,  37:"left",38:"up",39:"right",40:"down"
        - if allowKey[e.keyCode] exists then handleKeyPress()
      10. HandleKeyPress function & pass in the value of "key"
        - for RIGHT/LEFT >> if (key === "left/right") {
          box.x/y -= player.speed;
          player.square--;(UP/DOWN player.square-= gamebox.x/y;)
        - box.style.left/right = box.x/y + "px";
          
      }
    */
    let box = {};
    const score = document.querySelector('.score');
    const gameAreaEle = document.querySelector('.gameArea');
    const gameArea = gameAreaEle.getBoundingClientRect();
    let squares = [];
    let gamebox = {
      x: Math.floor(gameArea.width / 100),
      y: Math.floor(gameArea.height / 100)
    }
    let player = {
      speed: 100, square: 1, score: 0
    }

    document.addEventListener('DOMContentLoaded', build);
    document.addEventListener('keyup', (e) => {
      let allowKey = {
        37: "left", 38: "up", 39: "right", 40: "down"
      }
      if (allowKey[e.keyCode]) { handleKeyPress(allowKey[e.keyCode]); }
    })

    function handleKeyPress(key) {
      if (key === "left") {
        box.x -= player.speed;
        player.square--;
      }
      if (key === "right") {
        box.x += player.speed;
        player.square++;
      }
      if (key === "down") {
        box.y += player.speed;
        player.square += gamebox.x;
      }
      if (key === "up") {
        box.y -= player.speed;
        player.square -= gamebox.x;
      }
      box.style.left = box.x + "px";
      box.style.top = box.y + "px";
      console.log(player.square);

    }

    function build() {
      box = document.createElement('div');
      box.classList.add('box');
      box.y = gameArea.top;
      box.x = gameArea.left;
      box.top = box.y + "px";
      box.left = box.x + "px";
      gameAreaEle.appendChild(box);
      // console.log(box);
      let counter = 1;
      for (let y = 0; y < gamebox.y; y++) {
        for (let x = 0; x < gamebox.x; x++) {
          squares[counter] = document.createElement('div');
          squares[counter].innerHTML = counter;
          squares[counter].classList.add('square');
          gameAreaEle.appendChild(squares[counter]);
          counter++;
        }
      }
    }

  </script>
</body>

</html>